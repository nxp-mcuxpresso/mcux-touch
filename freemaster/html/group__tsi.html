<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>NXP Touch Library Reference Manual: TSI module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nxp_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">NXP Touch Library Reference Manual
   &#160;<span id="projectnumber">Rev 2.0</span>
   </div>
   <div id="projectbrief">NXP Semiconductors, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__tsi.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TSI module<div class="ingroups"><a class="el" href="group__modules.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The TSI module describes the hardware configuration and control of the elementary functionality of the TSI peripheral; it covers all versions of the TSI peripheral by a generic low-level driver API.</p>
<p>The TSI Basic module is designed for processors that have the hardware TSI module version 1, 2, or 4 (for example Kinetis L).</p>
<p>The module also handles the NOISE mode supported by the TSI v4 (Kinetis L). </p>
<div class="dynheader">
Collaboration diagram for TSI module:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__tsi.png" border="0" alt="" usemap="#group____tsi"/>
<map name="group____tsi" id="group____tsi">
<area shape="rect" id="node1" href="group__modules.html" title="Modules" alt="" coords="5,5,76,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structnt__module__tsi__noise"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#structnt__module__tsi__noise">nt_module_tsi_noise</a></td></tr>
<tr class="separator:structnt__module__tsi__noise"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structnt__module__tsi__params"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#structnt__module__tsi__params">nt_module_tsi_params</a></td></tr>
<tr class="separator:structnt__module__tsi__params"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaacbe147c0009b2bbd9556c0015d6f396"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#gaacbe147c0009b2bbd9556c0015d6f396">NT_MODULE_TSI_NAME</a></td></tr>
<tr class="separator:gaacbe147c0009b2bbd9556c0015d6f396"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8e40b78a4308e56155477bdf8c8454bf"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#ga8e40b78a4308e56155477bdf8c8454bf">nt_module_TSI_ReleaseAll</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga8e40b78a4308e56155477bdf8c8454bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make virtual release on all electrodes assigned to TSI module by adding pull-up/down resistor.  <a href="#ga8e40b78a4308e56155477bdf8c8454bf">More...</a><br/></td></tr>
<tr class="separator:ga8e40b78a4308e56155477bdf8c8454bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf22facc442934e510e5db5fcc3aa73a8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#gaf22facc442934e510e5db5fcc3aa73a8">nt_module_TSI_Release</a> (uint32_t instance, struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **electrodes, uint8_t elNumber)</td></tr>
<tr class="memdesc:gaf22facc442934e510e5db5fcc3aa73a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make virtual the release on the specified electrodes assigned in the second function parameter by switching back to TSI mode.  <a href="#gaf22facc442934e510e5db5fcc3aa73a8">More...</a><br/></td></tr>
<tr class="separator:gaf22facc442934e510e5db5fcc3aa73a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3907ddfa7c73537f6d4b77335fab3435"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#ga3907ddfa7c73537f6d4b77335fab3435">nt_module_TSI_ReleaseOneElect</a> (const struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga3907ddfa7c73537f6d4b77335fab3435"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make virtual release on one specified electrode by switching back to the TSI mode.  <a href="#ga3907ddfa7c73537f6d4b77335fab3435">More...</a><br/></td></tr>
<tr class="separator:ga3907ddfa7c73537f6d4b77335fab3435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18230f833039ebb419db3f6089a30c5f"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#ga18230f833039ebb419db3f6089a30c5f">nt_module_TSI_TouchAll</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga18230f833039ebb419db3f6089a30c5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make the virtual release on one specified electrode assigned to the TSI module by switching back to the TSI mode.  <a href="#ga18230f833039ebb419db3f6089a30c5f">More...</a><br/></td></tr>
<tr class="separator:ga18230f833039ebb419db3f6089a30c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga321878d159b84ea8dde49ecbd7f52ef1"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#ga321878d159b84ea8dde49ecbd7f52ef1">nt_module_TSI_Touch</a> (uint32_t instance, struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **electrodes, uint8_t elNumber)</td></tr>
<tr class="memdesc:ga321878d159b84ea8dde49ecbd7f52ef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make the virtual touch on the selected electrodes assigned in the second function parameter by adding pull-up/down resistor.  <a href="#ga321878d159b84ea8dde49ecbd7f52ef1">More...</a><br/></td></tr>
<tr class="separator:ga321878d159b84ea8dde49ecbd7f52ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02b8bc243cb916ad4e1a867c265c8b45"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#ga02b8bc243cb916ad4e1a867c265c8b45">nt_module_TSI_TouchOneElect</a> (const struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> *electrode)</td></tr>
<tr class="memdesc:ga02b8bc243cb916ad4e1a867c265c8b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function make virtual touch on one specified electrode by adding the pull-up/down resistor.  <a href="#ga02b8bc243cb916ad4e1a867c265c8b45">More...</a><br/></td></tr>
<tr class="separator:ga02b8bc243cb916ad4e1a867c265c8b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gabd64de61172c3caf0d3494180d469acf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="group__gmodules__private.html#structnt__module__interface">nt_module_interface</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi.html#gabd64de61172c3caf0d3494180d469acf">nt_module_tsi_interface</a></td></tr>
<tr class="separator:gabd64de61172c3caf0d3494180d469acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structnt__module__tsi__noise" id="structnt__module__tsi__noise"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct nt_module_tsi_noise</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The structure represents the Noise detection of the TSI v4 module. An instance of this data type represents the Noise detection of the TSI v4 module. It contains the parameters of Noise filters automatic sensitive calibration.</p>
<p>You must initialize all the members before registering the noise in the module. This structure can be allocated in ROM. </p>
</div><div class="dynheader">
Collaboration diagram for nt_module_tsi_noise:</div>
<div class="dyncontent">
<div class="center"><img src="structnt__module__tsi__noise__coll__graph.png" border="0" usemap="#nt__module__tsi__noise_coll__map" alt="Collaboration graph"/></div>
<map name="nt__module__tsi__noise_coll__map" id="nt__module__tsi__noise_coll__map">
<area shape="rect" id="node2" href="group__filter.html#structnt__filter__iir" title="{nt_filter_iir\n|+ coef1\l|}" alt="" coords="42,5,123,83"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad43d52028f5481966e6e9cd2d09f79f7"></a>struct <a class="el" href="group__filter.html#structnt__filter__iir">nt_filter_iir</a></td>
<td class="fieldname">
noise_filter</td>
<td class="fielddoc">
<p>Noise filter parameters </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a70ba86b61cebb1e151e461f27e80e50a"></a>uint8_t</td>
<td class="fieldname">
noise_mode_timeout</td>
<td class="fielddoc">
<p>Time of switching back to capacitive mode since last noise event </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a17e24d297c29b40a20f54f930e980ad3"></a>uint8_t</td>
<td class="fieldname">
update_rate</td>
<td class="fielddoc">
<p>Period of the noise checking on the measured electrodes </p>
</td></tr>
</table>

</div>
</div>
<a name="structnt__module__tsi__params" id="structnt__module__tsi__params"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct nt_module_tsi_params</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The main structure representing the Noise detection of the TSI v4 module. An instance of this data type represents the Noise detection of the TSI v4 module. It contains the parameters of the Noise filters automatic sensitive calibration.</p>
<p>You must initialize all the members before registering the Noise in the module. This structure can be allocated in ROM. </p>
</div><div class="dynheader">
Collaboration diagram for nt_module_tsi_params:</div>
<div class="dyncontent">
<div class="center"><img src="structnt__module__tsi__params__coll__graph.png" border="0" usemap="#nt__module__tsi__params_coll__map" alt="Collaboration graph"/></div>
<map name="nt__module__tsi__params_coll__map" id="nt__module__tsi__params_coll__map">
<area shape="rect" id="node2" href="namespace_3global_scope_4.html#structtsi__config__t" title="{tsi_config_t\n|+ configSelfCap\l+ configMutual\l+ thresl\l+ thresh\l+ newCalc\l|}" alt="" coords="5,145,119,281"/><area shape="rect" id="node3" href="group__tsi.html#structnt__module__tsi__noise" title="{nt_module_tsi_noise\n|+ update_rate\l+ noise_mode_timeout\l|}" alt="" coords="143,167,298,259"/><area shape="rect" id="node4" href="group__filter.html#structnt__filter__iir" title="{nt_filter_iir\n|+ coef1\l|}" alt="" coords="180,5,261,83"/></map>
</div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a010ee18db81f60b402e6660dcb84ebe1"></a><a class="el" href="namespace_3global_scope_4.html#structtsi__config__t">tsi_config_t</a> *</td>
<td class="fieldname">
config</td>
<td class="fielddoc">
<p>A pointer to the HW configuration. Can't be NULL. </p>
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0c9770d11bbf0f0b8bbe42125c2a2bfd"></a>struct <a class="el" href="group__tsi.html#structnt__module__tsi__noise">nt_module_tsi_noise</a></td>
<td class="fieldname">
noise</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaacbe147c0009b2bbd9556c0015d6f396"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NT_MODULE_TSI_NAME</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf22facc442934e510e5db5fcc3aa73a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_Release </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **&#160;</td>
          <td class="paramname"><em>electrodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>elNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the release events on the specified electrodes defined as the bits in the second function parameters. The release event is simulated by changing the pin mode from GPIO mode back to TSI mode without pull-up/down resistor. The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line"><span class="keyword">struct </span><a class="code" href="group__system__private.html#structnt__kernel">nt_kernel</a> * system = <a class="code" href="group__system__api__private.html#ga66506bf9a380e50a3df9ea745a868b33">_nt_system_get</a>();</div>
<div class="line"><span class="keyword">struct </span><a class="code" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **electrodes = (<span class="keyword">struct </span><a class="code" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **)system-&gt;<a class="code" href="group__system__private.html#aee37eec55305f6a46d957061f14da177">rom</a>-&gt;<a class="code" href="group__system.html#a04e4f73590e8a3478863ba1b32068a29">modules</a>[0]-&gt;<a class="code" href="group__gmodules.html#aa4fa410931e5ca6904e9ea8dd7453c8d">electrodes</a>;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#gaf22facc442934e510e5db5fcc3aa73a8">nt_module_TSI_Release</a>(0, electrodes, 1);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">electrodes</td><td>The pointer array to enabled electrodes to be measured. </td></tr>
    <tr><td class="paramname">elNumber</td><td>The number enabled electrodes to be measured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if the specified electrodes have been switched back to the TSI mode</li>
<li>NT_FAILURE if the specified electrodes have not been switched back to the TSI mode </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga8e40b78a4308e56155477bdf8c8454bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_ReleaseAll </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the release events on all electrodes assigned to the TSI module. The release event is simulated by changing the pin mode from the GPIO mode back to the TSI mode without the pull-up/down resistor. The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#ga8e40b78a4308e56155477bdf8c8454bf">nt_module_TSI_ReleaseAll</a>(0);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if TSI register has been updated</li>
<li>NT_FAILURE if TSI register has not been updated </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga3907ddfa7c73537f6d4b77335fab3435"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_ReleaseOneElect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the release events on one electrode assigned as function input electrode pointer. The release event is simulated by changing the pin mode from TSI channel to GPIO mode with pull-up/down resistor. For self-capacitance based electrode the pull-up resistor is used to simulate release event and for mutual-capacitance based the pull-down resistor applied on receiver pin is used to simulate release event. Considering the fact that all receiver pins are routed together the capacity change will be applied to all electrodes with connected rx pins. The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#ga3907ddfa7c73537f6d4b77335fab3435">nt_module_TSI_ReleaseOneElect</a>(&amp;El_0);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if specified electrode has been switched back to the TSI mode</li>
<li>NT_FAILURE if specified electrode has not been switched back to the TSI mode </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga321878d159b84ea8dde49ecbd7f52ef1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_Touch </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **&#160;</td>
          <td class="paramname"><em>electrodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>elNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the touch events on the selected electrodes defined as the bits in the second function parameter. The touch event is simulated by changing the pin mode from TSI channel to GPIO mode with pull-up/down resistor. For self-capacitance based electrode the pull-up resistor is used to simulate touch event and for mutual-capacitance based the pull-down resistor applied on receiver pin is used to simulate touch event. Considering the fact that all receiver pins are routed together the capacity change will be applied to all electrodes with connected rx pins.The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line"> <span class="keyword">struct </span><a class="code" href="group__system__private.html#structnt__kernel">nt_kernel</a> * system = <a class="code" href="group__system__api__private.html#ga66506bf9a380e50a3df9ea745a868b33">_nt_system_get</a>();</div>
<div class="line"> <span class="keyword">struct </span><a class="code" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **electrodes = (<span class="keyword">struct </span><a class="code" href="group__electrodes.html#structnt__electrode">nt_electrode</a> **)system-&gt;<a class="code" href="group__system__private.html#aee37eec55305f6a46d957061f14da177">rom</a>-&gt;<a class="code" href="group__system.html#a04e4f73590e8a3478863ba1b32068a29">modules</a>[0]-&gt;<a class="code" href="group__gmodules.html#aa4fa410931e5ca6904e9ea8dd7453c8d">electrodes</a>;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#ga321878d159b84ea8dde49ecbd7f52ef1">nt_module_TSI_Touch</a>(0, electrodes, 1);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">electrodes</td><td>The pointer array to enabled electrodes to be measured. </td></tr>
    <tr><td class="paramname">elNumber</td><td>The number of enabled electrodes to be measured. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if the specified electrodes have been switched to GPIO mode with pull-up/down</li>
<li>NT_FAILURE if the specified electrodes have not been switched to GPIO mode with pull-up/down </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga18230f833039ebb419db3f6089a30c5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_TouchAll </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the release events on all electrodes assigned to the TSI modul. The release event is simulated by changing back the pin mode from the GPIO mode with the pull-up/down resistor to the TSI channel. The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#ga18230f833039ebb419db3f6089a30c5f">nt_module_TSI_TouchAll</a>(0);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if all electrodes have been switched to GPIO mode with pull-up/down</li>
<li>NT_FAILURE if all electrodes have not been switched to GPIO mode with pull-up/down </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="ga02b8bc243cb916ad4e1a867c265c8b45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t nt_module_TSI_TouchOneElect </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> *&#160;</td>
          <td class="paramname"><em>electrode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function simulate the touch events on one electrode assigned as the function input electrode pointer. The touch event is simulated by changing the pin mode from the TSI channel to the GPIO mode with pull-up/down resistor. For the self-capacitance based electrode the pull-up resistor is used to simulate the touch event and for mutual-capacitance based the pull-down resistor applied on receiver pin is used to simulate the touch event. Considering the fact that all receiver pins are routed together the capacity change will be applied to all electrodes with connected rx pins. The function requires to assign the gpio_input into the <a class="el" href="group__electrodes.html#structnt__electrode">nt_electrode</a> structure, one gpio for the self-capacitance based electrode or the array of two gpios for the mutual-capacitance based electrode.</p>
<div class="fragment"><div class="line">int32_t returned_status;</div>
<div class="line">returned_status = <a class="code" href="group__tsi.html#ga02b8bc243cb916ad4e1a867c265c8b45">nt_module_TSI_TouchOneElect</a>(&amp;El_0);</div>
<div class="line"><span class="keywordflow">if</span> (returned_status != <a class="code" href="group__types.html#ggac5580df52121b80252be4eb5eaab2828a5122d5d816d4ae16c6372dddea3cb8f3">NT_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>NT_SUCCESS if one specified electrode has been switched to GPIO mode with pull-up/down</li>
<li>NT_FAILURE if one specified electrodes has not been switched to GPIO mode with pull-up/down </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gabd64de61172c3caf0d3494180d469acf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="group__gmodules__private.html#structnt__module__interface">nt_module_interface</a> nt_module_tsi_interface</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The TSI module interface structure.Can't be NULL.</p>
<p>interface tsi module </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 2 2024 08:33:27 for NXP Touch Library Reference Manual by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
